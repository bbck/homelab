clusterName: turingpi
talosVersion: v1.6.6
endpoint: https://192.168.254.42:6443
cniConfig:
  name: none
nodes:
  - hostname: rk1-1
    ipAddress: 192.168.254.42
    installDisk: /dev/mmcblk0
    controlPlane: true
  - hostname: rk1-2
    ipAddress: 192.168.254.43
    installDisk: /dev/mmcblk0
    controlPlane: true
  - hostname: rk1-3
    ipAddress: 192.168.254.44
    installDisk: /dev/mmcblk0
    controlPlane: true
  - hostname: rk1-4
    ipAddress: 192.168.254.45
    installDisk: /dev/mmcblk0
patches:
  - |-
    cluster:
      proxy:
        disabled: true
controlPlane:
  talosImageURL: ghcr.io/nberlee/installer
  kernelModules:
    - name: rockchip-cpufreq
  patches:
    - |-
      cluster:
        allowSchedulingOnControlPlanes: true
    - |-
      cluster:
        controllerManager:
          extraArgs:
            bind-address: 0.0.0.0
        scheduler:
          extraArgs:
            bind-address: 0.0.0.0
        etcd:
          extraArgs:
            listen-metrics-urls: http://0.0.0.0:2381
worker:
  talosImageURL: ghcr.io/nberlee/installer
  kernelModules:
    - name: rockchip-cpufreq
